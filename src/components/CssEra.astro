<nav class="era" aria-label="Выбор CSS-эпохи">
  <button type="button" data-era="CSS3" title="2009-2012">CSS3</button>
  <button type="button" data-era="CSS4" title="2013-2018">CSS4</button>
  <button type="button" data-era="CSS5" title="2019-2025">CSS5</button>
  <button type="button" data-action="reset">Отменить выбор</button>
</nav>

<style>
  .era {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
    margin: 1.5rem auto 2rem;
    width: fit-content;
    padding: 1.25rem;
    background: var(--color-background-section);
    color: var(--color-text);
    border-radius: 0.75rem;
    box-shadow: 0 2px 8px hsl(0deg 0% 0% / 10%);
  }

  .era button {
    padding: 0.5rem 1.25rem;
    border: none;
    border-radius: 0.5rem;
    background: var(--color-background-button);
    color: #fff;
    cursor: pointer;
    transition: opacity 0.2s ease;
  }

  .era button:hover {
    opacity: 80%;
  }
</style>

<script>
  const EAR_YEARS = {
    CSS3: [2009, 2010, 2011, 2012],
    CSS4: [2013, 2014, 2015, 2016, 2017, 2018],
    CSS5: [2019, 2020, 2021, 2022, 2023, 2024, 2025]
  };
  const eraSection = document.querySelector('.era');
  const sections = document.querySelectorAll('.properties-of-year');

  if (eraSection) {
    eraSection.addEventListener('click', (event) => {
      const button = event.target as HTMLElement;

      if (button && button.tagName === 'BUTTON') {
        const htmlButton = button as HTMLButtonElement;
        if (htmlButton.dataset.action === 'reset') {
          sections.forEach((section) => {
            const htmlSection = section as HTMLElement;
            htmlSection.style.display = 'flex';
          });
          return;
        }

        const era = htmlButton.dataset.era;
        if (era && EAR_YEARS[era]) {
          const years = EAR_YEARS[era];

          sections.forEach((section) => {
            const htmlSection = section as HTMLElement;
            const sectionYear = parseInt(htmlSection.id.replace('year-', ''), 10);
            if (years.includes(sectionYear)) {
              htmlSection.style.display = 'flex';
            } else {
              htmlSection.style.display = 'none';
            }
          });
        }
      }
    });
  }
</script>
