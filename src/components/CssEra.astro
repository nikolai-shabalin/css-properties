<section class="era">
  Выбери CSS-эпоху:
  <button type="button" data-era="CSS3" title="2009-2012">CSS3</button>
  <button type="button" data-era="CSS4" title="2013-2018">CSS4</button>
  <button type="button" data-era="CSS5" title="2019-2025">CSS5</button>
  <button type="button" data-action="reset">Отменить выбор</button>
</section>

<style>
  .era {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin: 1rem auto;
    margin-block-end: 32px;
    width: fit-content;
    padding: 1rem;
    background: var(--color-background-section);
    color: var(--color-text);
    border-radius: max(
      0px,
      min(8px, calc((100vw - 4px - 780px) * 9999))
    );
  }

  .era button {
    padding: 0.5rem 1rem;
    color: var(--color-text);
    border: 1px solid var(--color-text);
    border-radius: 0.25rem;
    cursor: pointer;
    background-color: transparent;
    transition: background-color 0.2s ease;
  }

  .era button:hover {
    background-color: var(--color-background-item);
  }
</style>

<script>
  const EAR_YEARS = {
    CSS3: [2009, 2010, 2011, 2012],
    CSS4: [2013, 2014, 2015, 2016, 2017, 2018],
    CSS5: [2019, 2020, 2021, 2022, 2023, 2024, 2025]
  };
  const eraSection = document.querySelector('.era');
  const sections = document.querySelectorAll('.properties-of-year');

  if (eraSection) {
    eraSection.addEventListener('click', (event) => {
      const button = event.target;

      if (button && button.tagName === 'BUTTON') {
        const htmlButton = button;
        if (htmlButton.dataset.action === 'reset') {
          sections.forEach((section) => {
            section.style.display = 'flex';
          });
          return;
        }

        const era = htmlButton.dataset.era;
        if (era && EAR_YEARS[era]) {
          const years = EAR_YEARS[era];

          sections.forEach((section) => {
            const htmlSection = section;
            const sectionYear = parseInt(htmlSection.id.replace('year-', ''), 10);
            if (years.includes(sectionYear)) {
              htmlSection.style.display = 'flex';
            } else {
              htmlSection.style.display = 'none';
            }
          });
        }
      }
    });
  }
</script>
